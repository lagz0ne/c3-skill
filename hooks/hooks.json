{
  "hooks": {
    "SessionStart": [
      {
        "condition": {
          "directory_exists": ".c3"
        },
        "hooks": [
          {
            "type": "prompt",
            "prompt": "## C3 Architecture Documentation Detected\n\nThis project has C3 (Context -> Container -> Component) architecture documentation in `.c3/`.\n\n**For architecture questions, use the `c3-design` skill** instead of reading files directly.\n\n| Question Type | Action |\n|--------------|--------|\n| \"What's the architecture?\" | `c3-design` skill (exploration mode) |\n| \"How does X work?\" | `c3-design` skill (exploration mode) |\n| \"Add/change something\" | `c3-design` skill (design mode) |\n\n**Commands:** `/c3` | `/c3-config` | `/c3-audit` | `/c3-migrate`\n\n**Tip:** Start with `/c3` to get an overview of the system architecture."
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "condition": {
          "tool_name": "edit",
          "path_pattern": "^.c3/(?!adr/).*\\.md$"
        },
        "hooks": [
          {
            "type": "prompt",
            "prompt": "⚠️ **C3 Documentation Edit Detected**\n\nYou're about to modify C3 documentation (not an ADR).\n\n**Checklist:**\n- [ ] Am I in Design Mode (not just exploration)?\n- [ ] Does an ADR exist for this change?\n- [ ] Did I complete Phase 1 (Surface Understanding) and Phase 2 (Iterative Scoping)?\n\n**If NO ADR exists:** Create one first in `.c3/adr/adr-YYYYMMDD-slug.md`\n\n*This reminder ensures architecture decisions are tracked before documentation changes.*"
          }
        ]
      },
      {
        "condition": {
          "tool_name": "write",
          "path_pattern": "^.c3/(?!adr/).*\\.md$"
        },
        "hooks": [
          {
            "type": "prompt",
            "prompt": "⚠️ **C3 Documentation Write Detected**\n\nYou're about to create/overwrite C3 documentation (not an ADR).\n\n**Checklist:**\n- [ ] Am I in Design Mode (not just exploration)?\n- [ ] Does an ADR exist for this change?\n- [ ] Did I complete Phase 1 (Surface Understanding) and Phase 2 (Iterative Scoping)?\n\n**If NO ADR exists:** Create one first in `.c3/adr/adr-YYYYMMDD-slug.md`\n\n*This reminder ensures architecture decisions are tracked before documentation changes.*"
          }
        ]
      }
    ]
  }
}
